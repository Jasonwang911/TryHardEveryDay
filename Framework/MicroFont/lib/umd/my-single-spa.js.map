{"version":3,"file":"my-single-spa.js","sources":["../../src/applications/apps.helper.js","../../src/applications/apps.js","../../src/start.js"],"sourcesContent":["export const NOT_LOADED = 'NOT_LOADED'","import { NOT_LOADED } from './apps.helper'\r\nimport { invoke } from '../navigations/invoke'\r\n\r\nlet APPS = []\r\n\r\n/*\r\n*   注册app\r\n*   @param  {string} appName  要注册app的名称\r\n*   @param  {Function<Promise> | Object} loadFunction  app异步加载函数或app内容\r\n*   @param  {Function<boolean>}  activityWhen 判断该app应该在何时被启动\r\n*   @param  {Object} customProps  自定义配置\r\n*   return Promis\r\n*/\r\nexport function registerApplication(appName, loadFunction, activityWhen, customProps) {\r\n  if(!appName || typeof appName !== 'string') {\r\n    throw new Error('appName must be a non-empty string')\r\n  }\r\n  if(!loadFunction) {\r\n    throw new Error('loadFunction must be a function or object')\r\n  }\r\n  if(typeof loadFunction !== 'function') {\r\n    // 如果是object 包装成返回的Promise\r\n    loadFunction = () => Promise.resolve(loadFunction)\r\n  }\r\n  if(typeof activityWhen !== 'function') {\r\n    throw new Error('activityWhen must be a function')\r\n  }\r\n  APPS.push({\r\n    name: appName,\r\n    loadFunction,\r\n    activityWhen,\r\n    customProps,\r\n    // app状态\r\n    status: NOT_LOADED\r\n  })\r\n  console.log(APPS)\r\n  invoke()\r\n}","export function start() {\r\n  \r\n}"],"names":["NOT_LOADED","APPS","registerApplication","appName","loadFunction","activityWhen","customProps","Error","Promise","resolve","push","name","status","console","log","invoke","start"],"mappings":";;;;;;EAAO,MAAMA,UAAU,GAAG,YAAnB;;ECGP,IAAIC,IAAI,GAAG,EAAX;EAEA;;;;;;;;;AAQA,EAAO,SAASC,mBAAT,CAA6BC,OAA7B,EAAsCC,YAAtC,EAAoDC,YAApD,EAAkEC,WAAlE,EAA+E;EACpF,MAAG,CAACH,OAAD,IAAY,OAAOA,OAAP,KAAmB,QAAlC,EAA4C;EAC1C,UAAM,IAAII,KAAJ,CAAU,oCAAV,CAAN;EACD;;EACD,MAAG,CAACH,YAAJ,EAAkB;EAChB,UAAM,IAAIG,KAAJ,CAAU,2CAAV,CAAN;EACD;;EACD,MAAG,OAAOH,YAAP,KAAwB,UAA3B,EAAuC;EACrC;EACAA,IAAAA,YAAY,GAAG,MAAMI,OAAO,CAACC,OAAR,CAAgBL,YAAhB,CAArB;EACD;;EACD,MAAG,OAAOC,YAAP,KAAwB,UAA3B,EAAuC;EACrC,UAAM,IAAIE,KAAJ,CAAU,iCAAV,CAAN;EACD;;EACDN,EAAAA,IAAI,CAACS,IAAL,CAAU;EACRC,IAAAA,IAAI,EAAER,OADE;EAERC,IAAAA,YAFQ;EAGRC,IAAAA,YAHQ;EAIRC,IAAAA,WAJQ;EAKR;EACAM,IAAAA,MAAM,EAAEZ;EANA,GAAV;EAQAa,EAAAA,OAAO,CAACC,GAAR,CAAYb,IAAZ;AACAc,EACD;;ECrCM,SAASC,KAAT,GAAiB;;;;;;;;;;;;;"}